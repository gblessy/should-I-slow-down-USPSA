<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should I slow down calculator for minor USPSA</title>
</head>

<body>

    <head>
        <h1>Should I slow down calculator for minor USPSA</h1>
        <h2>Enter the max points and max time to calculate if you should slow down</h1>
    </head>
    <section>
        <div class="preference">
            <label for="time">Time in seconds:</label>
            <div>
                <input id="time" type="number">
            </div>

        </div>
        <div class="preference">
            <label for="points">Max points for the stage:</label>
            <div>
                <input id="points" type="number">
            </div>
        </div>
        <div>
            <button id="calculate">Calculate</button>
        </div>
    </section>
    <section>
        <h4>This is how many seconds you need to recover missed target:</h4>
        <div id="c">if I get C: <span id="c-result">0</span> seconds</div>
        <div id="d">if I get D: <span id="d-result">0</span> seconds</div>
        <div id="m">if I get Mike: <span id="m-result">0</span> seconds</div>
    </section>
    <script>
        function roundToNiceNumber(x) {
            return Number.parseFloat(x).toFixed(2);
        }

        function calculateHHF(time, points) {
            return points / time;
        }

        function calculateTheLoss(hhf) {
            return {
                C: roundToNiceNumber(2 / hhf),
                D: roundToNiceNumber(4 / hhf),
                M: roundToNiceNumber(15 / hhf),
            };
        }

        const calculateButton = document.getElementById("calculate");
        const pointsInput = document.getElementById("points");
        const timeInput = document.getElementById("time");
        const cResult = document.getElementById("c-result");
        const dResult = document.getElementById("d-result");
        const mResult = document.getElementById("m-result");

        calculateButton.addEventListener("click", () => {
            const t = timeInput.value;
            const p = pointsInput.value;
            const hhf = calculateHHF(t, p);
            const loss = calculateTheLoss(hhf);
            cResult.innerText = loss.C;
            dResult.innerText = loss.D;
            mResult.innerText = loss.M;
        });

    </script>
</body>

</html>